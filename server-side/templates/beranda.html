<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='beranda.css') }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
  <link flex href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <script src="script.js" defer></script>
  
  
  <title>Beranda</title>

</head>

<body>
  <nav class="sidebar close">
    <header>
      <div class="image-text">
        <span class="image">
          <img src="{{ url_for('static', filename='icon/bank-bri.jpg') }}" alt="logo_img" />
        </span>

        <div class="text logo-text">
          <span class="name">BRIMINDER</span>
          <span class="profession">KC BRI Teluk Betung</span>
        </div>
      </div>
      <i class='bx bx-chevron-right toggle'></i>
    </header>


    <div class="menu-bar">
      <div class="menu">

        <li class="search-box">
          <i class='bx bx-user-circle icon'></i>
          <a class="text nav-text">{{ session.level }} | {{ session.nama }}</a>
        </li>
        

        <ul class="menu-links">
          {% if session['level'] == 'Admin' : %}
          <li class="nav-link">
            <a href="/beranda">
              <i class='bx bx-home-alt icon'></i>
              <span class="text nav-text">Beranda</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="/kelolauser">
              <i class='bx bxs-user-detail icon'></i>
              <span class="text nav-text">Kelola User</span>
            </a>
          </li>
          <li class="nav-link">
            <a href="/posts">
              <i class='bx bx-news icon'></i>
              <span class="text nav-text">Pengumuman</span>
            </a>
          </li>
          


          {% else %}
          <style>
            /* Styles for body dashboard */
        
        body {
          font-family: Arial, sans-serif;
          background-color: #f8f9fa;
          
        }
        
        .home {
          padding: 40px;
          padding-left: 200px;
          
          
        }
        
        .head {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }
        
        .jadwal {
          font-size: 24px;
          font-weight: bold;
          margin-right: 20px;
        }
        
        .cari {
          display: flex;
          align-items: center;
        }
        
        .label-input {
          margin-right: 10px;
        }
        
        .wrap-input {
          position: relative;
        }
        
        .input-field {
          padding: 8px;
          border-radius: 4px;
          border: 1px solid #ccc;
        }
        
        .table {
          margin-top: 20px;
        }
        
        .datatable {
          width: 100%;
          border-collapse: collapse;
        }
        
        .datatable th,
        .datatable td {
          padding: 8px;
          border: 1px solid #ccc;
        }
        
        .datatable th {
          font-weight: bold;
          text-align: left;
          background-color: #f2f2f2;
        }
        
        .datatable tbody tr:nth-child(even) {
          background-color: #f8f9fa;
        }
        
        .info-box {
          display: flex;
          align-items: center;
          margin-top: 20px;
          padding: 70px;
          border-radius: 4px;
          background-color: #fff;
          margin-right: 100px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
          width: 400px;
        }
        
        .info-box.active {
          background-color: #f2f2f2;
        }
        
        .box-icon {
          margin-right: 10px;
        }
        
        .info-box svg {
          width: 24px;
          height: 24px;
        }
        
        .info-box .box-content {
          text-align: left;
        }
        
        .info-box .box-content .big {
          font-size: 24px;
          font-weight: bold;
        }
        
        
          </style>
          <li class="nav-link">
            <a href="/beranda">
              <i class='bx bx-home-alt icon'></i>
              <span class="text nav-text">Beranda</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="/restrukturisasi">
              <i class='bx bx-notepad icon'></i>
              <span class="text nav-text">Restrukturisasi</span>
            </a>
          </li>

          <li class="nav-link">
            <a href="/register">
              <i class='bx bxs-file-plus icon'></i>
              <span class="text nav-text">Register</span>
            </a>
          </li>
          
          
          {% endif %}
        </ul>
      </div>

      <div class="bottom-content">
        <li class="">
          <a href="/logout">
            <i class='bx bx-log-out icon'></i>
            <span class="text nav-text">Keluar</span>
          </a>
        </li>

        <li class="mode">
          <div class="sun-moon">
            <i class='bx bx-moon icon moon'></i>
            <i class='bx bx-sun icon sun'></i>
          </div>
          <span class="mode-text text">Dark mode</span>

          <div class="toggle-switch">
            <span class="switch"></span>
          </div>
        </li>
      </div>
    </div>
  </nav>



  <section class="home">
    {% if session['level'] == 'Admin' : %}

    <div class="head">
      <div class="bagianAtas">
        <div class="inline">

          <h2 class="jadwal">Daftar Pengguna</h2>
          <div class="cari">
            <label htmlfor="cari" class="label-input"></label>
            <div class="wrap-input">

              <input type="text" class="input-field" placeholder="Cari Username" id="myInput" onkeyup="myFunction()"></input>
            </div>
          </div>
        </div>
      

      <div class="table">
        <div class="container demo">
          <table class="datatable table table-striped table-bordered">
            <thead>
              <br>
              <br>
              <tr>
                <th>Nama</th>
                <th>Username</th>
                <th>Password</th>
                <th>Level</th>
              </tr>
            </thead>
            <tbody>
              {% for user in user %}
              <tr>
                <td>{{ user['nama'] }}</td>
                <td>{{ user['username'] }}</td>
                <td>{{ user['password'] }}</td>
                <td>{{ user['level'] }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div><!--/.container.demo -->
        <table id="myTable"></table>
      </div>
    </div>
  </div>

    {% else %}

    <div style="display: flex; gap: 50px;">
    <a href="/notifikasi/vewnotif">
    <div class="info-box">
      <div class="box-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 10H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1zm-1 10H5v-8h14v8zM5 6h14v2H5zM7 2h10v2H7z"/></svg>
      </div>
    <div class="box-content">
      <span class="big">{{notif}}</span>
       Debitur Jatuh Tempo
    </div>
  </div>
  </a>
  <a href="/group-chat">
    
  <div class="info-box">
    <div class="box-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 10H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1zm-1 10H5v-8h14v8zM5 6h14v2H5zM7 2h10v2H7z"/></svg>
    </div>
    
    <div class="box-content">
      <span class="big">Obrolan Group</span>
      
    </div>
  </div>
</a>
</div>
<br>
<br>
<br>
<div style="display: flex; gap: 50px;">
  <a href="/posts">
  <div class="info-box">
    <div class="box-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 10H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1zm-1 10H5v-8h14v8zM5 6h14v2H5zM7 2h10v2H7z"/></svg>
    </div>
  <div class="box-content">
    <span class="big">44.51</span>
    Postingan
  </div>
</div>
</a>

<div class="info-box">
  <a href="/upload">
  <div class="box-icon">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 10H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1zm-1 10H5v-8h14v8zM5 6h14v2H5zM7 2h10v2H7z"/></svg>
  </div>
  <div class="box-content">
    <span class="big">132</span>
    Laporan</a>
  </div>
</div>

</section>


    {% endif %}
  </section>

  <script>
    function myFunction() {
      // Declare variables
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      table = document.getElementById("myTable");
      tr = table.getElementsByTagName("tr");

      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }
  </script>

  <script>
    const body = document.querySelector('body'),
      sidebar = body.querySelector('nav'),
      toggle = body.querySelector(".toggle"),
      searchBtn = body.querySelector(".search-box"),
      modeSwitch = body.querySelector(".toggle-switch"),
      modeText = body.querySelector(".mode-text");


    toggle.addEventListener("click", () => {
      sidebar.classList.toggle("close");
    })

    searchBtn.addEventListener("click", () => {
      sidebar.classList.remove("close");
    })

    modeSwitch.addEventListener("click", () => {
      body.classList.toggle("dark");

      if (body.classList.contains("dark")) {
        modeText.innerText = "Light mode";
      } else {
        modeText.innerText = "Dark mode";

      }
    });
  </script>

</body>

</html>
